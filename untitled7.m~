clear, clc, close all
disp('??????????? ?????? #1')
disp('??????????? ?????????? ????????')
disp('???????:????????? ????, ????? ??-361 ????')
N = 5;
n = 0:N-1;
x = double((n)==0);
y = double((n)==2); 
class(x) 
figure(1) 
subplot(2,1,1), stem(x) 
subplot(2,1,2), stem(y)
%%%%???? ????????? ??????? ???????? ??? ????????? (???? ?????????? class)
%%%%???????? double ?????? ?? ??? ????? ?? ? ??????????? ??? ??????????
%%%%(?????)

N =201;
n =0:200;
x =cos(pi*n/16);  
figure(2)
subplot(2,1,1), stem(x)
subplot(2,1,2), plot(x)
subplot(2,1,2), stairs(y)
%%%%?? ????????????? ? ??????????? ? ?=2


n =0:200;
a1 =0.8;
a2 =-0.8;
a3 =1.1;
a4 =-1.1;
x1 =a1.^n;
x2 =a2.^n;
x3 =a3.^n;
x4 =a4.^n;
figure(3)
subplot(4,1,1 ), stem(x1)
subplot(4,1,2 ), stem(x2)
subplot(4,1,3 ), stem(x3)
subplot(4,1,4 ), stem(x4)
%%%% ??? ?<0 ?????? ?????? ?? ?????????????? ? ??? ?>0 ?? ???? (???
%%%% ???'?????? ???????? - ????? ?? ??????? ??????????? ? ????? ?? ?????)

function pks = pksdetect1(x)        %creating of function
pks = find(diff(diff(x) > 0) < 0);  %pereviryae i povertae max znach (pohidna)
u = find(x(pks+1) > x(pks));        %porivnue i povertae nastupne max znach
pks(u) = pks(u)+1;                  %povertae vector z indeksami max znach


fs = 1000;
t = 0:1/fs:2;           %1/fs krok 
x = 3*sin(6*pi*t)+5*sin(16*pi*t);
pks = pksdetect1(x);       %calling func
figure(4)
plot(t,x);   



fs = 1000;
t = 0:1/fs:2;                               %1/fs krok (period deskret)
x = 3*sin(6*pi*t)+5*sin(16*pi*t);
  pks = pksdetect1(x);                        %calling func
  figure(4)
  plot(t,x,'k-');                             %k- style of line
  hold on;                                    %hold this style
  plot(t(pks),x(pks),'k*');hold off;          % /-/ off this style to blue
  xlabel('time (s)'); ylabel('x(t)');         % names of ox and oy
  %%%% ???????? hold ??????? ??? on ?? off (on - ????? ????? ? ???????
  %%%% ??????, ?  off ???????/???????? ?? ????????????) 
%fs = 1000;
%t = 0:1/fs:2;                               
%x = 3*sin(6*pi*t)+5*sin(16*pi*t);
%pks = pksdetect1(x);                        
%  figure(4)
%  subplot(2,1,1),plot(x)                          
%  subplot(2,1,1),stem(t(pks),x(pks))         
%  xlabel('time (s)'); ylabel('x(t)');
  
  
fs = 200; 
T = 1/fs; 
D = 0.25;
n = 0:1000;
r = randn(size(n))*sqrt(D);    % noice (rundn normal rozpodil)
s =1.8*cos(20*pi*n*T);        % signal
x = s + r;                     % signal+noice
figure(5)
plot(x)
title('stohastic signal')
xlabel('noice'), ylabel('signal')
%%%% rundn - ???????? ??? ?????, ??? ????????? ??? ???? ????? ?????????, ?
%%%% rund ????? ???????? ?????


fs = 200; 
T = 1/fs; 
D = 0.25;
n = 0:1000;
r = randn(size(n))*sqrt(D);    % noice (rundn normal rozpodil)
s =1.8*cos(20*pi*n*T);        % signal
x = s + r;                     % signal+noice
figure(5)
plot(x)
title('stohastic signal')
xlabel('noice'), ylabel('signal')
fprintf('mat spodiv = %4.3g\n', mean(s))        %4.3g format chisla
fprintf('dispersiya = %4.3g\n', var(s))
fprintf('mat spodiv = %4.3g\n', mean(r))
fprintf('dispersiya = %4.3g\n', var(r))
fprintf('mat spodiv + noice = %4.3g\n', mean(x))
fprintf('dispersiya signalu + noice = %4.3g\n', var(x))



pec1 = load('pec1.dat');            %read file
fs = 1000;                          %chastota
fcg = pec1(:, 1);                   %nadaemo znach 1 stovbchika
ecg = pec1(:, 2);                   %2
cps = pec1(:, 3);                   %3
t = (0:length(fcg) - 1)/fs;         
figure(6)
subplot(3,1,1), plot(t,fcg), xlabel('t'), ylabel('A(t)') 
title ('FKG')
xlim([1,4])             %obmejue znach po X 
subplot(3,1,2), plot(t,ecg), xlabel('t'), ylabel('A(t)')
title ('EKG')
xlim([1,4])
subplot(3,1,3), plot(t,cps), xlabel('t'), ylabel('A(t)')
title ('signal karotidnogo pulsu')
xlim([1,4])
%%%% ?????????? 23?; ?? ?? Y ? ??????? ?? ?, ????? ???????? ??????? ? ??